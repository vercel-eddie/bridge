{
  "id": "devconfeat",
  "version": "1.1.0",
  "name": "Bridge Tunnel Client",
  "description": "Connects to the bridge server running on a Vercel Sandbox to forward inbound requests to local applications and intercept outbound traffic via iptables.",
  "entrypoint": "/usr/local/bin/bridge-entrypoint.sh",
  "options": {
    "sandboxUrl": {
      "type": "string",
      "description": "URL of the bridge server running on the Vercel Sandbox (e.g., https://sandbox-abc123.vercel.run)",
      "default": ""
    },
    "localTarget": {
      "type": "string",
      "description": "Local address to forward inbound requests to",
      "default": "127.0.0.1:8000"
    },
    "vercelFunctionUrl": {
      "type": "string",
      "description": "URL of the Vercel dispatcher function this container represents (required for tunnel registration)",
      "default": ""
    },
    "forwardDomains": {
      "type": "string",
      "description": "Comma-separated list of domain patterns to forward through the tunnel (e.g., '*.example.com,**.internal,api.service.com')",
      "default": ""
    },
    "bridgeVersion": {
      "type": "string",
      "description": "Version of bridge CLI to install (e.g., 'v1.0.0' or 'latest')",
      "default": "latest"
    }
  },
  "containerEnv": {
    "SANDBOX_URL": "${sandboxUrl}",
    "LOCAL_TARGET": "${localTarget}",
    "VERCEL_FUNCTION_URL": "${vercelFunctionUrl}",
    "FORWARD_DOMAINS": "${forwardDomains}"
  },
  "capAdd": [
    "NET_ADMIN"
  ],
  "installsAfter": [
    "ghcr.io/devcontainers/features/common-utils"
  ]
}
